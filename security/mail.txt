### メール送受信メモ ###

・POP
メールサーバ内にあるメールボックスからメールをダウンロードし、
メールボックスからは無くなるという仕組みのプロトコル

・IMAP
メールボックスからメールをダウンロードせずに、
メールサーバ側でメールの管理を行う。
どの端末からでもメールを確認できるが、
サーバ側に負荷がかかり、メールを保存するための十分なストレージを用意する必要あり。

・MIME
各国言語、テキストデータ、画像データなど、複数の種類のデータを一つにまとめて、
電子メールで送受信できるように考えられた仕様。

・S/MIME
MIME仕様にセキュリティ機能を組み込んだもの。
暗号化(ハイブリッド方式)を施すので、安全に送受信できる。
通常はCA発行の電子証明書が必要になる。

・SMTP
電子メールを送信するためのプロトコルで、TCP25を利用。
現在はOP25Bの影響でサブミッションポートTCP587とSMTP-AUTHを利用して送信する方法が一般的。

・OP25B(Outbound Port 25 Blocking)
自分のネットワークから外部のネットワークへのポート番号25(SMTP)の通信を遮断すること。

・IP25B(Inbound Port 25 Blocking)
外部のネットワークから内部のネットワークへのポート番号25(SMTP)の通信を遮断すること。

・エンベロープアドレス
メールの配送はエンベロープToの情報参照。
メールが届かなかった場合はエンベロープFROMのアドレス宛にエラーメッセージが届く。

・ヘッダアドレス
MUA(メールアドレスソフト)で表示されるヘッダアドレス情報。
ヘッダアドレスの情報はテキストデータであり、配送には影響しない。

・SMTP-AUTH
メール送信時に送信者の認証を行う
ユーザアカウントとパスワードで利用者を認証する。

・SPF(Sender Policy Framework)
送信元ドメイン認証技術の一つで、メール受信時にメールサーバのIPアドレスを利用して認証する。
送信元ドメインのDNSサーバからSPFレコードを取得し、
メールサーバのIPアドレスとSPFレコードのIPアドレスが一致するか検証する。
これにより、なりすましメールを防ぐ。

・DKIM(DomainKeys Identified Mail)
送信元ドメイン認証技術の一つで、メールサーバがメールに対してデジタル署名を付与することで
送信元ドメインを検証する仕組み。
デジタル署名はメールヘッダに格納され、
デジタル署名を検証するための公開鍵はDNSにDKIMレコードとして設定して公開する。

・DMARC(Domain-based Message Authentication, Reporting, and Conformance)
SPFとDKIMによる送信元ドメイン認証が失敗したとき、受信メールサーバは送信元ドメインのDNSサーバから
DMARCレコードを取得して、ポリシーと呼ばれるメールの取り扱いに関する情報を取得する。
これにより、迷惑メールに振り分けられたり、メールを拒否したりする。
検証失敗時のメールの取り扱いだけでなく、検証失敗時の検証レポートの送り先を定義していることもある。
